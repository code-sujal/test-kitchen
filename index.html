<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kitchen Display System - Professional</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Remix Icon CDN -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet"/>
</head>
<body>
    <!-- PIN Login Container -->
    <div id="login-container" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <div class="brand-logo">
                    <div class="logo-icon"></div>
                    <h1>Kitchen Display</h1>
                    <p>SpoonFeed WebKitchen Service</p>
                </div>
            </div>
            
            <form id="pin-login-form" class="login-form">
                <div class="pin-section">
                    <label for="chef-pin">Enter PIN - <small>1 2 3 4 </small></label>
                    <div class="pin-input-container">
                        <input type="password" id="chef-pin" placeholder="••••" maxlength="4" class="pin-input">
                    </div>
                </div>
                
                <div class="chef-section">
                    <label for="chef-name">Select Chef - <small> Kitchen Manager</small></label>
                    <select id="chef-name" required>
                        <option value="">Choose Chef</option>
                        <option value="head-chef">Kitchen Manager</option>
                        <option value="sr-chef">Sr. Chef</option>
                        <option value="jr-chef">Jr. Chef</option>
                    </select>
                </div>
                
                <button type="submit" class="login-btn">
                    <span>Access Kitchen</span>
                    <div class="btn-arrow">→</div>
                </button>
                
                <div id="login-error" class="error-message" style="display: none;"></div>
            </form>
        </div>
    </div>

    <!-- Kitchen Display Dashboard -->
    <div id="kitchen-dashboard" class="kitchen-dashboard" style="display: none;">
        <!-- Enhanced Header -->
        <header class="kitchen-header">
            <div class="header-left">
                <div class="brand-section">
                    <div class="brand-icon"><i class="ri-bowl-fill"></i></div>
                    <div class="brand-info">
                        <h1>Kitchen Display</h1>
                        <span class="restaurant-name">Restaurant Operations</span>
                    </div>
                </div>
            </div>
            
            <div class="header-center">
                <div class="datetime-display">
                    <div class="current-time" id="current-time"></div>
                    <div class="current-date" id="current-date"></div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="performance-metrics">
                    <div class="metric-item">
                        <span class="metric-label">Avg Prep Time</span>
                        <span class="metric-value" id="avg-prep-time">--</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">Orders/Hour</span>
                        <span class="metric-value" id="orders-per-hour">--</span>
                    </div>
                </div>
                
                <div class="user-section">
                    <div class="user-info">
                        <span class="user-name" id="user-info">Chef</span>
                        <span class="shift-time" id="shift-time">00:00</span>
                    </div>
                    <button id="logout-btn" class="logout-btn">
                        <span>Logout</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Order Statistics Bar -->
        <div class="stats-bar">
            <div class="stat-group">
                <div class="stat-card pending">
                    <div class="stat-icon"><i class="ri-timer-flash-fill"></i></div>
                    <div class="stat-content">
                        <span class="stat-number" id="pending-count">0</span>
                        <span class="stat-label">Pending</span>
                    </div>
                </div>
                
                <div class="stat-card preparing">
                    <div class="stat-icon"><i class="ri-fire-fill"></i></div>
                    <div class="stat-content">
                        <span class="stat-number" id="preparing-count">0</span>
                        <span class="stat-label">Preparing</span>
                    </div>
                </div>
                
                <div class="stat-card ready">
                    <div class="stat-icon"><i class="ri-shield-check-fill" style="color: green;"></i></div>
                    <div class="stat-content">
                        <span class="stat-number" id="ready-count">0</span>
                        <span class="stat-label">Ready</span>
                    </div>
                </div>
                
                <div class="stat-card completed">
                    <div class="stat-icon"><i class="ri-box-3-fill"></i></div>
                    <div class="stat-content">
                        <span class="stat-number" id="completed-count">0</span>
                        <span class="stat-label">Completed</span>
                    </div>
                </div>
            </div>
            
            <div class="controls-section">
                <div class="view-controls">
                    <button class="control-btn" id="refresh-btn" onclick="kitchenDisplay.refreshOrders()">
                        <span><i class="ri-refresh-line"></i></span>
                        <span>Refresh</span>
                    </button>
                    <button class="control-btn" id="sound-toggle" onclick="audioManager.testSound()">
                        <span><i class="ri-volume-up-fill"></i></span>
                        <span>Test Sound</span>
                    </button>
                    <div class="filter-select">
                        <select id="time-filter" onchange="kitchenDisplay.filterByTime(this.value)">
                            <option value="all">All Orders</option>
                            <option value="last-hour">Last Hour</option>
                            <option value="last-30min">Last 30 Min</option>
                            <option value="urgent">Urgent Only</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Order Tabs -->
        <nav class="order-tabs">
            <button class="tab-btn active" data-status="pending" onclick="kitchenDisplay.setActiveTab('pending')">
                <div class="tab-content">
                    <span class="tab-icon"><i class="ri-timer-flash-fill"></i></span>
                    <span class="tab-text">New Orders</span>
                    <span class="tab-count" id="tab-pending">0</span>
                </div>
            </button>
            
            <button class="tab-btn" data-status="preparing" onclick="kitchenDisplay.setActiveTab('preparing')">
                <div class="tab-content">
                    <span class="tab-icon"><i class="ri-fire-fill"></i></span>
                    <span class="tab-text">In Progress</span>
                    <span class="tab-count" id="tab-preparing">0</span>
                </div>
            </button>
            
            <button class="tab-btn" data-status="ready" onclick="kitchenDisplay.setActiveTab('ready')">
                <div class="tab-content">
                    <span class="tab-icon"><i class="ri-shield-check-fill"></i></span>
                    <span class="tab-text">Ready</span>
                    <span class="tab-count" id="tab-ready">0</span>
                </div>
            </button>
            
            <button class="tab-btn" data-status="completed" onclick="kitchenDisplay.setActiveTab('completed')">
                <div class="tab-content">
                    <span class="tab-icon"><i class="ri-box-3-fill"></i></span>
                    <span class="tab-text">Completed</span>
                    <span class="tab-count" id="tab-completed">0</span>
                </div>
            </button>
        </nav>

        <!-- Orders Container -->
        <main class="orders-container">
            <div class="orders-grid" id="orders-grid">
                <!-- Orders will be populated here -->
            </div>
            
            <!-- Enhanced Empty State -->
            <div class="empty-state" id="empty-state" style="display: none;">
                <div class="empty-animation">
                    <div class="empty-icon"><i class="ri-clipboard-fill"></i></div>
                    <div class="empty-pulse"></div>
                </div>
                <h3>No Orders Found</h3>
                <p>Waiting for new orders to appear...</p>
                <div class="empty-stats">
                    <span>Last update: <span id="last-update">--</span></span>
                </div>
            </div>
        </main>
    </div>

    <!-- Enhanced Order Detail Modal -->
    <div class="modal-overlay" id="order-modal" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title-section">
                    <h2 id="modal-order-title">Order Details</h2>
                    <div class="modal-subtitle" id="modal-order-subtitle"></div>
                </div>
                <button class="close-btn" onclick="kitchenDisplay.closeOrderModal()">
                    <span>×</span>
                </button>
            </div>
            
            <div class="modal-body" id="modal-order-content">
                <!-- Order details will be populated here -->
            </div>
            
            <div class="modal-actions" id="modal-actions">
                <!-- Action buttons will be populated here -->
            </div>
        </div>
    </div>

    

    <!-- Audio and Notifications -->
    <audio id="notification-sound" preload="auto">
        <source src="mixkit-security-facility-breach-alarm-994.mp3" type="audio/mpeg">
    </audio>

    <button id="enable-audio" class="enable-audio-btn">
        <span><i class="ri-volume-up-fill"></i></span>
        <span>Enable Notifications</span>
    </button>

    <script type="module" src="script.js"></script>
</body>
</html>
